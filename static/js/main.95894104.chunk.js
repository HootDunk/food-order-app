(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{82:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n.n(a),i=n(14),c=n(20),s=n(42),o=n(0),l=n.n(o),u=n(2),d=l.a.createContext({state:{cartItems:[],total:0,numItems:0},dispatch:function(){}}),j=function(e){return e.reduce((function(e,t){return e+t.amount*t.price}),0)},b=function(e,t){switch(t.type){case"ADD_ITEM_TO_CART":var n=Object(s.a)(e.cartItems),a=t.item,r=t.amount,i=n.findIndex((function(e){return e.id===a.id}));if(-1!==i){var o=Object(c.a)({},n[i]);o=Object(c.a)(Object(c.a)({},o),{},{amount:o.amount+=r}),n[i]=o}else{var l=Object(c.a)(Object(c.a)({},a),{},{amount:r});n=[].concat(Object(s.a)(n),[l])}return{total:j(n),cartItems:n,numItems:e.numItems+r};case"DECREMENT_ITEM":var u=t.id,d=Object(s.a)(e.cartItems),b=d.findIndex((function(e){return e.id===u})),m=Object(c.a)({},d[b]);return m.amount-=1,m.amount,0===m.amount?d.splice(b,1):d[b]=m,{total:j(d),cartItems:d,numItems:e.numItems-1};case"INCREMENT_ITEM":var h=t.id,p=Object(s.a)(e.cartItems),f=p.findIndex((function(e){return e.id===h})),O=Object(c.a)({},p[f]);return O.amount+=1,p[f]=O,{total:j(p),cartItems:p,numItems:e.numItems+1};case"RESET":return{total:0,cartItems:[],numItems:0};default:throw new Error("Undhandled action type : ".concat(t.type))}},m=function(e){var t=Object(o.useReducer)(b,{cartItems:[],total:0,numItems:0}),n=Object(i.a)(t,2),a={state:n[0],dispatch:n[1]};return Object(u.jsx)(d.Provider,{value:a,children:e.children})};function h(){var e=l.a.useContext(d);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}n(82);var p=n(134),f=n(22),O=n(124),x=n(131),g=n(132),v=n(126),y=n(128),I=n(65),C=n.n(I),E=n(139),T=n(136),N=n(129),S=n(138),k=n(130),w=Object(O.a)((function(e){return{layout:{display:"flex",justifyContent:"space-between"},chip:{marginLeft:e.spacing(2),fontWeight:"900"},plusAndMinus:{fontWeight:"900",fontSize:"1.2rem",padding:"0"}}}));function R(e){var t=e.item,n=t.name,a=t.price,r=t.amount,i=t.id,c=h().dispatch,s=w();return Object(u.jsxs)(l.a.Fragment,{children:[Object(u.jsxs)("div",{className:s.layout,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(v.a,{style:{fontWeight:800},variant:"h5",children:n}),Object(u.jsxs)(v.a,{color:"secondary",variant:"h6",children:["$",a.toFixed(2),Object(u.jsx)(E.a,{label:"x".concat(r),size:"small",className:s.chip})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(y.a,{onClick:function(){return c({type:"DECREMENT_ITEM",id:i})},className:s.plusAndMinus,variant:"outlined",children:"-"}),Object(u.jsx)(y.a,{onClick:function(){return c({type:"INCREMENT_ITEM",id:i})},className:s.plusAndMinus,variant:"outlined",children:"+"})]})]}),Object(u.jsx)("hr",{})]})}var A=n(135),M=function(e){var t=Object(o.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1],d=e(a);return{inputValue:a,valueIsValid:d,hasError:!d&&l,blurHandler:function(){!l&&u(!0)},changeHandler:function(e){r(e.target.value)},reset:function(){r(""),u(!1)}}};function W(e){var t=e.left,n=e.right;return Object(u.jsxs)(T.a,{display:"flex",justifyContent:"flex-end",children:[Object(u.jsx)(y.a,{onClick:t.function,variant:"outlined",children:t.text}),Object(u.jsx)(y.a,{disabled:n.isDisabled,variant:"outlined",color:"primary",onClick:n.function,children:n.text})]})}var q=function(e){return""!==e.trim()},L=function(e){return!isNaN(e)&&""!==e.trim()};function D(e){var t=e.closeModal,n=e.orderIsValid,a=e.handleSubmit,r=M(q),i=r.inputValue,c=r.valueIsValid,s=r.hasError,o=r.blurHandler,l=r.changeHandler,d=M(q),j=d.inputValue,b=d.valueIsValid,m=d.hasError,h=d.blurHandler,p=d.changeHandler,f=M(q),O=f.inputValue,x=f.valueIsValid,g=f.hasError,v=f.blurHandler,y=f.changeHandler,I=M(L),C=I.inputValue,E=I.valueIsValid,N=I.hasError,S=I.blurHandler,k=I.changeHandler,w=c&&b&&x&&E;return Object(u.jsxs)("form",{children:[Object(u.jsxs)(T.a,{display:"flex",mt:3,children:[Object(u.jsx)(A.a,{required:!0,size:"small",id:"name",label:"Name",variant:"outlined",value:i,onChange:function(e){return l(e)},onBlur:o,error:s,helperText:s?"Name is required":""}),Object(u.jsx)(A.a,{required:!0,size:"small",id:"street",label:"Street",variant:"outlined",value:j,onChange:function(e){return p(e)},onBlur:h,error:m,helperText:m?"Street is required":""})]}),Object(u.jsxs)(T.a,{display:"flex",mt:3,mb:3,children:[Object(u.jsx)(A.a,{required:!0,size:"small",id:"city",label:"City",variant:"outlined",value:O,onChange:function(e){return y(e)},onBlur:v,error:g,helperText:g?"City is required":""}),Object(u.jsx)(A.a,{required:!0,size:"small",id:"zipcode",label:"Zipcode",variant:"outlined",value:C,onChange:function(e){return k(e)},onBlur:S,error:N,helperText:N?"Zipcode is required & must be a number":""})]}),Object(u.jsx)(W,{left:{text:"Close",function:t},right:{text:"Complete Order",function:function(){return a({name:i,street:j,city:O,zipcode:C})},isDisabled:!w||!n}})]})}var H=n(56),V=n.n(H),z=n(64),_=function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(null),c=Object(i.a)(r,2),s=c[0],l=c[1];return{isLoading:n,error:s,sendRequest:Object(o.useCallback)(function(){var e=Object(z.a)(V.a.mark((function e(t,n){var r,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),l(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:if((r=e.sent).ok){e.next=8;break}throw new Error("Request failed!");case 8:return e.next=10,r.json();case 10:i=e.sent,n(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),l(e.t0.message||"Something went wrong!");case 17:a(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[])}},B=Object(O.a)((function(e){return{dialogContent:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},modal:{maxHeight:"550px"}}}));function F(e){var t,n=e.isOpen,a=e.toggleIsOpen,r=B(),c=h(),s=c.state,d=s.total,j=s.cartItems,b=Object(o.useState)(!1),m=Object(i.a)(b,2),p=m[0],f=m[1],O=Object(o.useState)(!1),x=Object(i.a)(O,2),g=x[0],I=x[1],C=_(),E=C.isLoading,w=C.error,A=C.sendRequest,M=function(e){!g&&I(!0),A({url:"https://react-http-9c0b8-default-rtdb.firebaseio.com/orders.json",method:"POST",body:{orderedItems:c.state.cartItems,user:e},headers:{"Content-Type":"application/json"}},(function(e){c.dispatch({type:"RESET"}),f(!1)}))},q=j.length>0;return g?g&&(t=E?Object(u.jsxs)(T.a,{textAlign:"center",p:2,children:[Object(u.jsx)(T.a,{mb:2,children:Object(u.jsx)(v.a,{variant:"h4",children:"Sending Your Order..."})}),Object(u.jsx)(N.a,{})]}):w?Object(u.jsxs)(T.a,{textAlign:"center",p:1,children:[Object(u.jsx)(v.a,{variant:"h4",children:"Something Went Wrong..."}),Object(u.jsx)(v.a,{variant:"body1",children:w}),Object(u.jsx)(T.a,{m:2,children:Object(u.jsx)(y.a,{onClick:M,variant:"contained",color:"primary",children:"Click Here to Resend"})})]}):Object(u.jsx)(T.a,{textAlign:"center",p:2,children:Object(u.jsx)(T.a,{mb:2,children:Object(u.jsx)(v.a,{variant:"h4",children:"Order Successfully Sent"})})})):t=Object(u.jsxs)(l.a.Fragment,{children:[j.map((function(e){return Object(u.jsx)(R,{item:e},e.id)})),Object(u.jsxs)(T.a,{display:"flex",justifyContent:"space-between",mb:3,children:[Object(u.jsx)(v.a,{style:{fontWeight:800},variant:"h5",children:"Total:"}),Object(u.jsxs)(v.a,{style:{fontWeight:800},variant:"h5",children:["$",d.toFixed(2)]})]}),!p&&Object(u.jsx)(W,{left:{text:"Close",function:a},right:{text:"Checkout",function:function(){f((function(e){return!e}))},isDisabled:!q}}),p&&Object(u.jsx)(D,{closeModal:a,orderIsValid:q,handleSubmit:M})]}),Object(u.jsx)(S.a,{className:r.modal,open:n,onClose:g?function(){a(),I(!1)}:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs",children:Object(u.jsx)(k.a,{className:r.dialogContent,children:t})})}var P=Object(O.a)((function(e){return{chip:{marginLeft:e.spacing(1)},label:{fontSize:"1.2rem"},bumpAnimation:{animation:"$bump 300ms ease-out"},"@keyframes bump":{"0%":{transform:"scale(1)"},"10%":{transform:"scale(0.9)"},"30%":{transform:"scale(1.1)"},"50%":{transform:"scale(1.15)"},"100%":{transform:"scale(1)"}}}}));function $(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(!1),c=Object(i.a)(r,2),s=c[0],d=c[1],j=P(),b=h(),m=b.state.numItems;Object(o.useEffect)((function(){if(0!==m){d(!0);var e=setTimeout((function(){d(!1)}),300);return function(){clearTimeout(e)}}}),[m]);var p=function(){a((function(e){return!e}))};return Object(u.jsxs)(l.a.Fragment,{children:[Object(u.jsxs)(y.a,{onClick:p,className:s?j.bumpAnimation:"",startIcon:Object(u.jsx)(C.a,{}),size:"large",variant:"contained",children:["Your Cart",Object(u.jsx)(E.a,{className:"".concat(j.chip," ").concat(j.label),size:"small",label:b.state.numItems,color:"secondary"})]}),Object(u.jsx)(F,{isOpen:n,toggleIsOpen:p})]})}var G=Object(O.a)((function(e){return{root:Object(f.a)({flexGrow:1,marginBottom:e.spacing(2)},e.breakpoints.up("sm"),{marginBottom:e.spacing(10)}),toolbar:Object(f.a)({padding:e.spacing(1),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),display:"flex",flexWrap:"wrap",justifyContent:"center",textAlign:"center"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(14),paddingRight:e.spacing(14),textAlign:"left"}),title:{flexGrow:1,fontWeight:800}}}));function J(){var e=G();return Object(u.jsx)("div",{className:e.root,children:Object(u.jsx)(x.a,{color:"secondary",position:"static",children:Object(u.jsxs)(g.a,{className:e.toolbar,children:[Object(u.jsx)(v.a,{variant:"h4",className:e.title,children:"ReactMeals"}),Object(u.jsx)($,{})]})})})}var Y=n(133),Z=n(66),U=Object(O.a)((function(e){return{card:Object(f.a)({backgroundColor:"#626262",textAlign:"center",color:"#fff"},e.breakpoints.up("md"),{marginLeft:e.spacing(18),marginRight:e.spacing(18)}),content:{margin:e.spacing(2)},body:{color:Object(Z.fade)(e.palette.primary.contrastText,.7)}}}));function K(){var e=U();return Object(u.jsx)(T.a,{mx:"auto",children:Object(u.jsxs)(Y.a,{className:e.card,raised:!0,children:[Object(u.jsx)(v.a,{className:e.content,style:{fontWeight:800},variant:"h4",children:"Delicious Food, Delivered to You"}),Object(u.jsx)(v.a,{className:"".concat(e.content," ").concat(e.body),variant:"body1",children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(u.jsx)(v.a,{className:"".concat(e.content," ").concat(e.body),variant:"body1",children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})})}var Q=Object(O.a)((function(e){return{wrapper:{paddingTop:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},itemLayout:{display:"flex",justifyContent:"space-between"},right:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},chip:{padding:"10px",marginLeft:"5px"}}}));function X(e){var t=e.item,n=Q(),a=Object(o.useState)(0),r=Object(i.a)(a,2),c=r[0],s=r[1],l=h();return Object(u.jsxs)("div",{className:n.wrapper,children:[Object(u.jsxs)("div",{className:n.itemLayout,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(v.a,{variant:"h5",children:t.name}),Object(u.jsx)(T.a,{fontStyle:"italic",children:Object(u.jsx)(v.a,{variant:"body1",children:t.description})}),Object(u.jsxs)(v.a,{color:"secondary",variant:"h6",children:["$",t.price.toFixed(2)]})]}),Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),l.dispatch({type:"ADD_ITEM_TO_CART",item:t,amount:c}),s(0)}(e)},className:n.right,children:[Object(u.jsx)(A.a,{required:!0,onChange:function(e){return s(+e.target.value)},value:0===c?"":c,label:"amount",type:"number",InputProps:{inputProps:{min:1,max:5}}}),Object(u.jsx)(y.a,{type:"submit",variant:"contained",color:"secondary",children:"+ Add"})]})})]}),Object(u.jsx)("hr",{})]})}var ee=Object(O.a)((function(e){return{card:Object(f.a)({marginTop:e.spacing(3)},e.breakpoints.up("md"),{marginLeft:e.spacing(8),marginRight:e.spacing(8),marginTop:e.spacing(6),marginBottom:e.spacing(6)})}}));function te(){var e,t=ee(),n=Object(o.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1],l=_(),d=l.isLoading,j=l.error,b=l.sendRequest,m=function(e){var t=[];for(var n in e)t.push(Object(c.a)({id:n},e[n]));s(t)};return Object(o.useEffect)((function(){b({url:"https://react-http-9c0b8-default-rtdb.firebaseio.com/meals.json"},m)}),[b]),j?e=Object(u.jsxs)(T.a,{textAlign:"center",p:1,children:[Object(u.jsx)(v.a,{variant:"h4",children:"Something Went Wrong..."}),Object(u.jsx)(v.a,{variant:"body1",children:j}),Object(u.jsx)(T.a,{m:2,children:Object(u.jsx)(y.a,{onClick:function(){return b({url:"https://react-http-9c0b8-default-rtdb.firebaseio.com/meals.json"},m)},variant:"contained",color:"primary",children:"Click Here to Reload"})})]}):d?e=Object(u.jsxs)(T.a,{textAlign:"center",p:2,children:[Object(u.jsx)(T.a,{mb:2,children:Object(u.jsx)(v.a,{variant:"h4",children:"Menu is Loading..."})}),Object(u.jsx)(N.a,{})]}):r.length&&(e=r.map((function(e){return Object(u.jsx)(X,{item:e},e.id)}))),Object(u.jsx)(Y.a,{className:t.card,raised:!0,children:e})}var ne=function(){return Object(u.jsxs)(l.a.Fragment,{children:[Object(u.jsx)(J,{}),Object(u.jsxs)(p.a,{maxWidth:"md",children:[Object(u.jsx)(K,{}),Object(u.jsx)(te,{})]})]})};r.a.render(Object(u.jsx)(m,{children:Object(u.jsx)(ne,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.95894104.chunk.js.map